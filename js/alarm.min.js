var music=new Audio("media/alarm.mp3"),alarmTime=0,currentTime=0,update_Alarm_Clock=0;function updateAlarmValue(node){""==node.value?node.value="":node.value=Number(node.value),"alarm-hour"==node.id?node.value>12&&(node.value=12):"alarm-min"==node.id&&node.value>59&&(node.value=59)}function updateAlarmClock(remainTime){remainHour=Math.floor(remainTime/3600),remainMin=Math.floor(remainTime%3600/60),remainSec=remainTime%3600%60,remainHour<10&&(remainHour="0"+remainHour),remainMin<10&&(remainMin="0"+remainMin),remainSec<10&&(remainSec="0"+remainSec),remainMin=String(remainMin),remainHour=String(remainHour),remainSec=String(remainSec),$("#alarm-clock-hour").html(remainHour),$("#alarm-clock-min").html(remainMin),$("#alarm-clock-sec").html(remainSec)}function setAlarm(){""!=$("#alarm-hour").val()&&""!=$("#alarm-min").val()?($("#setalarm").attr("disabled","disabled"),$("#unsetAlarm").removeAttr("disabled"),$("#alarm-settings").css("display","none"),$("#alarm-clock").css("display","block"),today=new Date(),currentTime=3600*today.getHours()+60*today.getMinutes()+today.getSeconds(),alarmTime="am"==$("#alarm-time").val()?60*Number($("#alarm-hour").val())+Number($("#alarm-min").val()):60*(12+Number($("#alarm-hour").val()))+Number($("#alarm-min").val()),alarmTime*=60,remainTime=currentTime>alarmTime?86400+alarmTime-currentTime:alarmTime-currentTime,updateAlarmClock(remainTime),update_Alarm_Clock=setInterval((function(){remainTime-=1,updateAlarmClock(remainTime),0==remainTime&&(music.play(),clearInterval(update_Alarm_Clock))}),1e3)):alert("Input some Values please")}function unsetAlarm(){$("#setalarm").removeAttr("disabled"),$("#unsetAlarm").attr("disabled","disabled"),$("#alarm-hour").val(""),$("#alarm-min").val(""),$("#alarm-time").val("am"),$("#alarm-clock-hour").html("00"),$("#alarm-clock-min").html("00"),$("#alarm-clock-sec").html("00"),$("#alarm-settings").css("display","block"),$("#alarm-clock").css("display","none"),music.pause(),music.currentTime=0,remainTime="",alarmTime="",clearInterval(update_Alarm_Clock)}
